#Basic java stuff
language: java
jdk:
  - openjdk8

#Install tasks (Can't use apt - outdated)
install:
  - curl -s get.sdkman.io | bash
  - source "$HOME/.sdkman/bin/sdkman-init.sh"
  - echo sdkman_auto_answer=true > ~/.sdkman/etc/config
  - source "/home/travis/.sdkman/bin/sdkman-init.sh"
  - sdk install gradle 5.5

#Our projects don't have a gradle wrapper
script: gradle build -Prelease

#Don't build untagged branches
branches:
  except:
    - untagged*

#Don't pester me about this stuff
notifications:
  email: false

#Deployment
deploy:
  provider: releases

  #Cleanup deletes the file we build
  skip_cleanup: true

  #Point to the "libs" folder
  file_glob: true
  file: build/libs/*

  #Acceptable repository
  on:
    repo: HelloWorldMinecraft/AutomaticInventory

  #API Key
  api_key:
    secure: noTJ6eZlqSAM7mNdircz1iiTcLQslyU7+2/uV3hXnD/In431gg7gTGA8LiUCaTNPWWZEQJW/zUQ8DXgf0T+TfHQ/lp5MrSL2SXR3eI1EYNdyD+44WXBGcGYYPWllJQcaLCv/PafyaTnDrLoG77QglYDDfFvVGQ/rrscqgC2Z9mE6SMgk+2r0HTRpEo4GJaw5TYQ3oV/RJQQSzfLCnNc1Gy/nOp45HdgRavVUpzwzpBzvAEzcTjqS/q4VD8p0R3ygrxZAVGskoj3oA5FhZ6BMtLUAFa7me5tdFu2JHdhAy1wNsl17WJrDSxUJ+u2mN6jHLBfG8745xvNqnHA5K41CG67NQNh7SkTv1ruVjlddxIpUFIFT0tp/zuy/Hcvci5CJgLc0vi1ZiHxVZM0v645BwcztyWPK6/EJKmlkO3orlVYfqv4A1ITTeKjctqnR2+YUjMHC8LboulPSNTcDMWzL+8nEf19wHjTBrKkhsOYRg/5CfbzL2bQmFmjn5NQBEYl8+vSan4i6G8wAIKwoDcN6AtazgAms5K7NdPzgRspSPkiFgi6db5sGkFQZvGhlWzxeyefRCSTfBiZJGUbqXe09Ka9sZHcELRpxq/HDUKgHZHhI9gqv5JzRZt9kXNd4Fxjn7oLWEVzFeloR51TKeQ7RxqKVxkx3+G0IUMeKoGOHBF0=
